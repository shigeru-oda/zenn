---
title: "sam localã§Running AWS SAM projects locally requires Docker."
emoji: "ğŸ‘»"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [aws,sam]
published: true
---
# ã‚¿ã‚¤ãƒˆãƒ«
æ–‡å­—æ•°åˆ¶é™ã§å…¥ã‚Šãã‚‰ãªã‹ã£ãŸã‘ã©ã‚‚ã€æœ¬å½“ã®ã‚¿ã‚¤ãƒˆãƒ«ã¯ã€Œmacã§sam local start-apiã§Error: Running AWS SAM projects locally requires Docker. Have you got it installed and running?ã¨ãªã£ãŸå ´åˆã®å¯¾å¿œã€

# å‰æ
- machine : mac intel
- os : 13.1ï¼ˆ22C65ï¼‰
- docker : Docker version 20.10.21, build baeda1f
- sam : SAM CLI, version 1.69.0

# Errorå†…å®¹
dockerã¯ç¨¼åƒã—ã¦ã„ã‚‹ãŒã€ãªãœã‹ã€ŒãŠå‰dockerå‹•ã„ã¦ã„ã‚‹ã‹ï¼Ÿã€ã¨è¨€ã‚ã‚Œã‚‹
```
% sam local start-api
Error: Running AWS SAM projects locally requires Docker. Have you got it installed and running?
% docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```

# å¯¾å¿œå†…å®¹
https://github.com/aws/aws-sam-cli/issues/575

- macä¸Šã§"docker"groupã‚’ä½œã‚‹
- åˆ©ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ãŸ"docker"groupã«è¿½åŠ 
- macã‚’å†èµ·å‹•

# å¯¾å¿œå¾Œ
å‹•ã„ãŸã‚ˆï¼
```
% sam local invoke
Invoking app.lambda_handler (python3.9)
Image was not found.
Removing rapid images for repo public.ecr.aws/sam/emulation-python3.9
Building image........................
Skip pulling image and use local one: public.ecr.aws/sam/emulation-python3.9:rapid-1.69.0-x86_64.

Mounting /Users/shigeruoda/Documents/GitHub/pj01/sam-app/.aws-sam/build/HelloWorldFunction as /var/task:ro,delegated inside runtime container
START RequestId: 357b893a-2cf6-4e71-8c84-0dd4e3520fc2 Version: $LATEST
END RequestId: 357b893a-2cf6-4e71-8c84-0dd4e3520fc2
REPORT RequestId: 357b893a-2cf6-4e71-8c84-0dd4e3520fc2  Init Duration: 0.73 ms  Duration: 318.98 ms     Billed Duration: 319 ms Memory Size: 128 MB     Max Memory Used: 128 MB
{"statusCode": 200, "body": "{\"message\": \"hello world\"}"}
```
