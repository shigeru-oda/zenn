---
title: "20221202-Amazon SageMaker Geospatial ML"
emoji: "ğŸš´ğŸ»â€â™€ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["aws","åº§å­¦","æ„Ÿæƒ³"]
published: true
---
# â– å½“è¨˜äº‹ã«ã¤ã„ã¦
re:inventã§æ–°ã—ãSageMakerã®æ©Ÿèƒ½ã¨ã—ã¦ç™ºè¡¨ã•ã‚ŒãŸGeospatial MLã‚’è©¦ã—ã¦ã¿ã‚ˆã†ã¨ã„ã†ãƒ¢ãƒã§ã™ã€‚

# â– ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
### ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
ãƒ‰ãƒƒãƒˆã§å‡ºæ¥ãŸç”»åƒãƒ‡ãƒ¼ã‚¿
## ãƒ™ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
ç·šã§å‡ºæ¥ãŸç”»åƒãƒ‡ãƒ¼ã‚¿

## åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿
åœ°è¡¨ã®å½¢çŠ¶ã‚’è¡¨ã™ãƒ‡ãƒ¼ã‚¿ã§ã‚ã‚Šã€ç‚¹ã€ç·šã€å¤šè§’å½¢ãªã©ã®2æ¬¡å…ƒã®å¹¾ä½•å­¦çš„å½¢çŠ¶ã‚’ç”¨ã„ã¦é“è·¯ã‚„åœŸåœ°ã®å¢ƒç•Œãªã©ã‚’è¡¨ç¾ã™ã‚‹ãƒ™ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ã€äººå·¥è¡›æ˜Ÿã‚„èˆªç©ºæ©Ÿã€ãƒªãƒ¢ãƒ¼ãƒˆã‚»ãƒ³ã‚·ãƒ³ã‚°ãªã©ã§æ’®å½±ã•ã‚ŒãŸç”»åƒãªã©ã‚’è¡¨ç¾ã™ã‚‹ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®2ç¨®é¡ãŒã‚ã‚‹

# â– SageMakerã®åœ°ç†ç©ºé–“ã‚’ä½¿ã†ç†ç”±
SageMaker ã®åœ°ç†ç©ºé–“æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€DIY ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚ˆã‚Šã‚‚è¿…é€Ÿã«åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹äºˆæ¸¬ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚SageMaker ã®åœ°ç†ç©ºé–“æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æ—¢å­˜ã®é¡§å®¢ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ã‚¯ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã€ãŠã‚ˆã³ä»–ã® SageMaker åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ã‹ã‚‰åœ°ç†ç©ºé–“ãƒ‡ãƒ¼ã‚¿ã«ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

# â– Amazon SageMaker Geospatial MLã®æ©Ÿèƒ½
- åœ°çƒè¦³æ¸¬ã®ä»•äº‹ : è¡›æ˜Ÿç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã€å¤‰æ›ã€å¯è¦–åŒ–ã—ã€äºˆæ¸¬ã‚’ç«‹ã¦ã€æœ‰ç”¨ãªæ´å¯Ÿã‚’å¾—ã‚‹ã€‚
- ãƒ™ã‚¯ã‚¿ãƒ¼ã‚¨ãƒ³ãƒªãƒƒãƒãƒ¡ãƒ³ãƒˆã‚¸ãƒ§ãƒ– : CSVãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åœ°ç†åº§æ¨™ã‚’èª­ã¿å–ã‚Šå¯èƒ½ãªä½æ‰€ã«å¤‰æ›ã™ã‚‹ãªã©ã®æ“ä½œã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ãƒ³ãƒªãƒƒãƒã—ã¾ã™ã€‚
- åœ°å›³ã®å¯è¦–åŒ– : CSVã€JSONã€GeoJSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸè¡›æ˜Ÿç”»åƒã‚„åœ°å›³ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚

# â– ã‚„ã£ã¦ã¿ã‚‹(åœ°çƒè¦³æ¸¬ã®ä»•äº‹)
## ç’°å¢ƒæ§‹ç¯‰(notebook)
### SageMaker Studio notebookèµ·å‹•
InterFaceãŒå¤‰ã‚ã£ã¨ã‚‹
![](https://storage.googleapis.com/zenn-user-upload/feea0b141390-20221201.png)

### notebookèµ·å‹•
![](https://storage.googleapis.com/zenn-user-upload/b5c3181093f0-20221201.png)

### ç’°å¢ƒè¨­å®š
Image : Geospatial 1.0
Instance type : ml.m5.4xlarge
![](https://storage.googleapis.com/zenn-user-upload/7eb1bd643ea1-20221201.png)

### ã‚¸ãƒ§ãƒ–é¸æŠ
ã‚¿ãƒ–ã‹ã‚‰Geospatial -> Earth Observation jobs -> Create job
![](https://storage.googleapis.com/zenn-user-upload/11ef2eea1909-20221201.png)

### ãƒ¢ãƒ‡ãƒ«é¸æŠ
![](https://storage.googleapis.com/zenn-user-upload/25ac144ee0c8-20221201.png)

### Aolãƒ•ã‚¡ã‚¤ãƒ«ã‚’æº–å‚™ã—Upload
AoIï¼ˆArea of Interestï¼‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§æº–å‚™ aol.geojson  
ã‚·ã‚¢ãƒˆãƒ«ã®AoIã§ã™
```
{
    "type": "Polygon",
    "coordinates": [
            [
              [-122.4258, 47.5116], 
              [-122.2459, 47.5116], 
              [-122.2459, 47.7429], 
              [-122.4258, 47.7429], 
              [-122.4258, 47.5116]
            ]
    ]
  }
```

æº–å‚™ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’Upload
![](https://storage.googleapis.com/zenn-user-upload/5b6c6643c63e-20221201.png)

### æ—¥ä»˜ã‚„é›²é‡ç‡ã‚’é¸æŠ
é¸æŠç¯„å›²ã§æ¿ƒæ·¡ãŒå¤‰ã‚ã‚‹ã€ã‚¹ã‚¯ã‚·ãƒ§ã—ã¦ã„ãªã„ãŒä¸‹ã«Createãƒœã‚¿ãƒ³ãŒã‚ã‚‹ã®ã§æŠ¼ä¸‹
![](https://storage.googleapis.com/zenn-user-upload/170c059a3e93-20221201.png)

### JOBãŒèµ·å‹•ã™ã‚‹
![](https://storage.googleapis.com/zenn-user-upload/eb93869f7fec-20221201.png)

### ç´„30åˆ†ã§å®Œäº†
æœŸé–“ã‚’çŸ­ãã—ãŸã‚‰å¤‰ã‚ã‚‹ã‹ãªï¼Ÿ
![](https://storage.googleapis.com/zenn-user-upload/abbc3b127c83-20221201.png)

### åœŸåœ°è¢«è¦†ã®è‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°çµæœ
é»„è‰²ã„éƒ¨åˆ†ã¯æµ·ã€ç·‘ã¯é›²ã€æ¿ƒã„ã‚ªãƒ¬ãƒ³ã‚¸ã¯æ£®æ—ã€ã‚ªãƒ¬ãƒ³ã‚¸ã¯é™¸åœ°ã§ã™ã€‚  
ã—ã‹ã—ç”»é¢åˆ‡ã‚Šæ›¿ãˆãŒçµæ§‹é‡ã„ã€ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«ã®ãƒªã‚½ãƒ¼ã‚¹ã¯é£Ÿã£ã¦ãªã„ã®ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚µã‚¤ã‚ºãŒæ‚ªã„ã®ï¼Ÿ
![](https://storage.googleapis.com/zenn-user-upload/be656e92a6d6-20221201.png)


## â– æ“ä½œã®ç¨®é¡
ä»Šå›ã¯UIã§æº–å‚™ã—ãŸã‘ã©notebookã§å®Ÿæ–½ã™ã‚‹ã¨ã‚‚ã£ã¨å¤šãã®æ“ä½œãŒå¯èƒ½ãªã‚ˆã†ã§ã™
![](https://storage.googleapis.com/zenn-user-upload/a08ec38faf7e-20221201.png)


## â– èª²é¡Œ
notebookæ“ä½œã§botocoreã§ã®"search_raster_data_collection"ãŒã‚¨ãƒ©ãƒ¼åã„ã¦ã¡ã‚ƒã‚“ã¨æ“ä½œã§ããªã‹ã£ãŸã®ã§ã€SDKã¯åˆ¥é€”èª¿æŸ»
